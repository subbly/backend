<!DOCTYPE html>

<html>
<head>
  <title>subbly.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>subbly.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <pre><code>Subbly.js v <span class="hljs-number">0.1</span><span class="hljs-number">.0</span>
(c) <span class="hljs-number">2014</span>-<span class="hljs-number">2015</span> Subbly.com
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">var</span> SubblyCore = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( config )</span>
</span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <h2 id="app-s-constants">APP’S Constants</h2>

            </div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              
            </div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>Current version of the library.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">this</span>._VERSION           = <span class="hljs-string">'0.1.0'</span></pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>User credentials cookie’s name</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">this</span>._CREDENTIALSCOOKIE = <span class="hljs-string">'SubblyCredentials'</span></pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <h2 id="general-note">General note</h2>

            </div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              
            </div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>we log as much as we can </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-built_in">console</span>.info( <span class="hljs-string">'Init Subbly object with this config:'</span> )
  <span class="hljs-built_in">console</span>.log( config )</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <h2 id="instance-s-properties">Instance’s properties</h2>

            </div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              
            </div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>enviroment config’ generated by <code>subbly/backend</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">this</span>._config            = config</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>form state, allow us to display an warning popin
if user leave the page without save his change</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">this</span>._changesAreSaved   = <span class="hljs-literal">true</span></pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>current user’s ‘model</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">this</span>._user              = <span class="hljs-literal">false</span></pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p>current user’s credentials</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">this</span>._credentials       = <span class="hljs-literal">false</span></pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p>list of all the XHR calls</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">this</span>._fetchXhr          = {}</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>Store settings</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">this</span>._settings          = <span class="hljs-literal">false</span></pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p><code>i18n</code> class instance</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">this</span>._i18n = <span class="hljs-keyword">new</span> i18n()</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p><code>Feedback</code> class instance</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">this</span>._feedback = <span class="hljs-keyword">new</span> Feedback()</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <p>Pub/Sub channel,
extends the original <code>Backbone.Events</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">this</span>._event  = _.extend( {}, Backbone.Events )</pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p>User login/logout Events</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">this</span>._event.on( <span class="hljs-string">'user::loggedIn'</span>, <span class="hljs-keyword">this</span>.setCredentials, <span class="hljs-keyword">this</span> )
  <span class="hljs-keyword">this</span>._event.on( <span class="hljs-string">'user::logout'</span>,   <span class="hljs-keyword">this</span>.logout,         <span class="hljs-keyword">this</span> )</pre></div></div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <p>Names of the API’s basic services
based on the Backbone’s conventions</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">this</span>._viewAllowedType = [ 
      <span class="hljs-string">'Model'</span>
    , <span class="hljs-string">'Collection'</span>
    , <span class="hljs-string">'View'</span>
    , <span class="hljs-string">'ViewForm'</span>
    , <span class="hljs-string">'ViewList'</span>
    , <span class="hljs-string">'ViewListRow'</span>
    , <span class="hljs-string">'Controller'</span> 
  ]</pre></div></div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p>return Subbly reference</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
}</pre></div></div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-23">&#182;</a>
              </div>
              <p> App Starter point</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>SubblyCore.prototype.init = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-built_in">console</span>.info( <span class="hljs-string">'Initialize App router'</span> )
  <span class="hljs-built_in">console</span>.info( <span class="hljs-string">'Components list'</span> )
  <span class="hljs-built_in">console</span>.log( Components )</pre></div></div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-24">&#182;</a>
              </div>
              <p>initialize Backbone’s router</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">this</span>._router = <span class="hljs-keyword">new</span> Router()

  <span class="hljs-keyword">var</span> scope = <span class="hljs-keyword">this</span></pre></div></div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-25">&#182;</a>
              </div>
              <p>Register global event <code>hash:change</code>. 
Trigger URL change.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">this</span>.on( <span class="hljs-string">'hash::change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( href, trigger )</span>
  </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-26">&#182;</a>
              </div>
              <p>define if URL change must call or not
the attached route</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    trigger = ( _.isUndefined( trigger ) ) ? <span class="hljs-literal">true</span> : trigger</pre></div></div>
            
        </li>
        
        
        <li id="section-27">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-27">&#182;</a>
              </div>
              <p>E.G.: this is usefull if you are in a new document form,
when you save the document you don’t whant to reload the page
but you need to update the URL with the new document ID</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> opts = ( trigger ) 
               ? { trigger: <span class="hljs-literal">true</span> }
               : { replace: <span class="hljs-literal">true</span> }</pre></div></div>
            
        </li>
        
        
        <li id="section-28">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-28">&#182;</a>
              </div>
              <p>Call Backbone <code>navigate</code> </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">if</span>( scope._changesAreSaved )
    {
      scope._router.navigate( href, opts )
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-29">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-29">&#182;</a>
              </div>
              <p>Or display confirmation modal if 
form’s changes are not saved</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">else</span>
    {
      <span class="hljs-comment">/*
      this._confirmModal = this.api('Subbly.View.Modal',
      {
          message:  __('label.form_leave')
        , success:  __('label.leave')
        , onSubmit: function()
          {
            scope.trigger( 'form::reset' )
            AppRouter.navigate( href, opts )
          }
      })
      */</span>
    }
  })</pre></div></div>
            
        </li>
        
        
        <li id="section-30">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-30">&#182;</a>
              </div>
              <p>If current user is not logged
trigger <code>user::login</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">if</span>( !<span class="hljs-keyword">this</span>.isLogin() )
  {
    <span class="hljs-built_in">console</span>.info( <span class="hljs-string">'trigger login view'</span> )
    <span class="hljs-built_in">console</span>.groupEnd()

    <span class="hljs-keyword">this</span>.trigger( <span class="hljs-string">'user::login'</span> )
  }
  <span class="hljs-keyword">else</span>
  {
    <span class="hljs-built_in">console</span>.info( <span class="hljs-string">'user is logged in'</span> )
    <span class="hljs-built_in">console</span>.info( <span class="hljs-string">'release app router'</span> )
    <span class="hljs-built_in">console</span>.groupEnd()
  }
}</pre></div></div>
            
        </li>
        
        
        <li id="section-31">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-31">&#182;</a>
              </div>
              <h2 id="config">Config</h2>

            </div>
            
        </li>
        
        
        <li id="section-32">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-32">&#182;</a>
              </div>
              
            </div>
            
        </li>
        
        
        <li id="section-33">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-33">&#182;</a>
              </div>
              <p> Get enviroment config’ value</p>
<pre><code>@param   {string}   dot.notation path to the asked value
@param   {mixed}    <span class="hljs-keyword">default</span> value
@<span class="hljs-keyword">return</span>  {mixed}
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>SubblyCore.prototype.getConfig = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( path, defaults )</span>
</span>{
  <span class="hljs-keyword">return</span> Helpers.getNested( <span class="hljs-keyword">this</span>._config, path, defaults || <span class="hljs-literal">false</span> ) 
}</pre></div></div>
            
        </li>
        
        
        <li id="section-34">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-34">&#182;</a>
              </div>
              <p> Set enviroment config’ value</p>
<pre><code>@param   {string}   path to the value
@param   {mixed}    the value
@<span class="hljs-keyword">return</span>  {<span class="hljs-keyword">void</span>}
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>SubblyCore.prototype.setConfig = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( path, value )</span>
</span>{
  <span class="hljs-keyword">return</span> Helpers.setNested( <span class="hljs-keyword">this</span>._config, path, value ) 
}</pre></div></div>
            
        </li>
        
        
        <li id="section-35">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-35">&#182;</a>
              </div>
              <h2 id="events">EVENTS</h2>

            </div>
            
        </li>
        
        
        <li id="section-36">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-36">&#182;</a>
              </div>
              
            </div>
            
        </li>
        
        
        <li id="section-37">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-37">&#182;</a>
              </div>
              <p>Backbone’s events shortcuts</p>

            </div>
            
        </li>
        
        
        <li id="section-38">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-38">&#182;</a>
              </div>
              <p>Bind an event to a <code>callback</code> function. Passing <code>&quot;all&quot;</code> will bind
the callback to all events fired.</p>
<pre><code>@param   {string}   event&#39;s name
@param   {function} the callback
@param   {function} scope context
@return  {void}
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>SubblyCore.prototype.on = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( name, callback, context )</span>
</span>{
  <span class="hljs-keyword">this</span>._event.on( name, callback, context )
}</pre></div></div>
            
        </li>
        
        
        <li id="section-39">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-39">&#182;</a>
              </div>
              <p>Bind an event to only be triggered a single time. After the first time
the callback is invoked, it will be removed.</p>
<pre><code>@param   {string}   event&#39;s name
@param   {function} the callback
@param   {function} scope context
@return  {void}
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>SubblyCore.prototype.once = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( name, callback, context )</span>
</span>{
  <span class="hljs-keyword">this</span>._event.once( name, callback, context )
}</pre></div></div>
            
        </li>
        
        
        <li id="section-40">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-40">&#182;</a>
              </div>
              <p>Remove one or many callbacks. If <code>context</code> is null, removes all
callbacks with that function. If <code>callback</code> is null, removes all
callbacks for the event. If <code>name</code> is null, removes all bound
callbacks for all events.</p>
<pre><code>@<span class="hljs-keyword">return</span>  {<span class="hljs-keyword">void</span>}
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>
SubblyCore.prototype.off = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( name, callback, context )</span>
</span>{
  <span class="hljs-keyword">this</span>._event.off( name, callback, context )
}</pre></div></div>
            
        </li>
        
        
        <li id="section-41">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-41">&#182;</a>
              </div>
              <p>Trigger one or many events, firing all bound callbacks. Callbacks are
passed the same arguments as <code>trigger</code> is, apart from the event name
(unless you’re listening on <code>&quot;all&quot;</code>, which will cause your callback to
receive the true name of the event as the first argument).</p>
<pre><code>@<span class="hljs-keyword">return</span>  {<span class="hljs-keyword">void</span>}
</code></pre><p>TODO: `args1… oh my god ! need to find a better solution</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>SubblyCore.prototype.trigger = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( args1, args2, args3, args4, args5, args6, args7 )</span>
</span>{
<span class="hljs-comment">/*
var args = [].slice.call( arguments, 1 )
console.log( arguments )
this._event.trigger.apply( this, arguments )
*/</span>

  <span class="hljs-keyword">this</span>._event.trigger( args1, args2, args3, args4, args5, args6, args7 )
}</pre></div></div>
            
        </li>
        
        
        <li id="section-42">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-42">&#182;</a>
              </div>
              <h2 id="shortcuts">SHORTCUTS</h2>

            </div>
            
        </li>
        
        
        <li id="section-43">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-43">&#182;</a>
              </div>
              
            </div>
            
        </li>
        
        
        <li id="section-44">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-44">&#182;</a>
              </div>
              <p><code>Feedback</code>‘s class instance shortcust</p>
<p>   @return  {object}</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>SubblyCore.prototype.feedback = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._feedback
}</pre></div></div>
            
        </li>
        
        
        <li id="section-45">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-45">&#182;</a>
              </div>
              <p><code>I18n</code>‘s class instance shortcust</p>
<p>   @return  {string}</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>SubblyCore.prototype.i18n = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._i18n
}</pre></div></div>
            
        </li>
        
        
        <li id="section-46">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-46">&#182;</a>
              </div>
              <p>Store settings shortcuts access</p>
<p>   @return  {object}</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>SubblyCore.prototype.settings = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._settings
}</pre></div></div>
            
        </li>
        
        
        <li id="section-47">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-47">&#182;</a>
              </div>
              <h2 id="credentials-login">CREDENTIALS / LOGIN</h2>

            </div>
            
        </li>
        
        
        <li id="section-48">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-48">&#182;</a>
              </div>
              
            </div>
            
        </li>
        
        
        <li id="section-49">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-49">&#182;</a>
              </div>
              <p>Set user credentials.
Load user settings and locales</p>
<pre><code>@param   {string}   `Basic Auth` encoded string
@<span class="hljs-keyword">return</span>  {<span class="hljs-keyword">void</span>}
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>SubblyCore.prototype.setCredentials = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( credentials )</span>
</span>{
  <span class="hljs-built_in">console</span>.info(<span class="hljs-string">'Set user credentials'</span>)

  <span class="hljs-keyword">this</span>._credentials = credentials

  <span class="hljs-keyword">this</span>.setCookie( <span class="hljs-keyword">this</span>._CREDENTIALSCOOKIE, <span class="hljs-keyword">this</span>._credentials )

  <span class="hljs-keyword">this</span>._settings = <span class="hljs-keyword">this</span>.api(<span class="hljs-string">'Subbly.Model.Settings'</span>)

  <span class="hljs-keyword">var</span> scope = <span class="hljs-keyword">this</span>

  <span class="hljs-keyword">this</span>.fetch( <span class="hljs-keyword">this</span>._settings,
  {
    success: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( model, response )</span>
    </span>{
      scope.i18n().setLocale( scope.getSetting(<span class="hljs-string">'subbly.backend_language'</span>), <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
      </span>{
        scope._router.ready(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( route )</span>
        </span>{
          scope.trigger( <span class="hljs-string">'hash::changed'</span>, route )
        })
      })
    }
  }, <span class="hljs-keyword">this</span> )
}</pre></div></div>
            
        </li>
        
        
        <li id="section-50">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-50">&#182;</a>
              </div>
              <p>Return current user <code>Basic Auth</code> encoded credentials</p>
<pre><code>@<span class="hljs-keyword">return</span>  {object}
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>SubblyCore.prototype.getCredentials = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-keyword">if</span>( !<span class="hljs-keyword">this</span>._credentials )
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>( <span class="hljs-string">'User credentials are not set'</span> )

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._credentials
}</pre></div></div>
            
        </li>
        
        
        <li id="section-51">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-51">&#182;</a>
              </div>
              <p>Check if current user is logged in
If <code>true</code>, trigger <code>user::loggedIn</code> event</p>
<pre><code>@<span class="hljs-keyword">return</span>  {boolean}
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>SubblyCore.prototype.isLogin = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-keyword">var</span> credentials = <span class="hljs-keyword">this</span>.getCookie( <span class="hljs-keyword">this</span>._CREDENTIALSCOOKIE )

  <span class="hljs-keyword">if</span>( !credentials )
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
  
  <span class="hljs-keyword">this</span>.trigger( <span class="hljs-string">'user::loggedIn'</span>, credentials )

  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
}</pre></div></div>
            
        </li>
        
        
        <li id="section-52">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-52">&#182;</a>
              </div>
              <p>Unset user credentials. 
Trigger <code>user::login</code> event</p>
<pre><code>@<span class="hljs-keyword">return</span>  {<span class="hljs-keyword">void</span>}
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>SubblyCore.prototype.logout = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-built_in">console</span>.info( <span class="hljs-string">'user logout'</span> )

  <span class="hljs-keyword">this</span>._credentials = <span class="hljs-literal">false</span>

  <span class="hljs-keyword">this</span>.setCookie( <span class="hljs-keyword">this</span>._CREDENTIALSCOOKIE, <span class="hljs-literal">null</span> )

  <span class="hljs-keyword">this</span>.trigger( <span class="hljs-string">'user::login'</span> )
}</pre></div></div>
            
        </li>
        
        
        <li id="section-53">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-53">&#182;</a>
              </div>
              <h2 id="api">API</h2>

            </div>
            
        </li>
        
        
        <li id="section-54">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-54">&#182;</a>
              </div>
              
            </div>
            
        </li>
        
        
        <li id="section-55">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-55">&#182;</a>
              </div>
              <p>Format full URL to API service
based on evironement config’</p>
<pre><code>@params  {string}  service&#39;s URL
@return  {string}
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>SubblyCore.prototype.apiUrl = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( url )</span>
</span>{
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._config.apiUrl + url
}</pre></div></div>
            
        </li>
        
        
        <li id="section-56">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-56">&#182;</a>
              </div>
              <p>Return formated user’s <code>Basic Auth</code> Header</p>
<pre><code>@<span class="hljs-keyword">return</span>  {object}
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>SubblyCore.prototype.apiHeader = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-keyword">return</span> {
    Authorization: <span class="hljs-string">'Basic '</span> + <span class="hljs-keyword">this</span>._credentials
  }
}</pre></div></div>
            
        </li>
        
        
        <li id="section-57">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-57">&#182;</a>
              </div>
              <p>Call a service protected by closure</p>
<pre><code>@params  {string}  service name
@params  {object}  service <span class="hljs-built_in">arguments</span>
@<span class="hljs-keyword">return</span>  {mixed}
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>SubblyCore.prototype.api = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( serviceName, args )</span>
</span>{
  <span class="hljs-keyword">var</span> service = Helpers.getNested( Components, serviceName, <span class="hljs-literal">false</span> )
    , args    = args || {}

  <span class="hljs-keyword">if</span>( !service )
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>( <span class="hljs-string">'Subbly API do not include '</span> + serviceName )</pre></div></div>
            
        </li>
        
        
        <li id="section-58">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-58">&#182;</a>
              </div>
              <p>if it’s a Backbone’s element ( a.k.a. a model, collection or view)
we create a new instance</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">if</span>( _.isFunction( service ) )
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> service( args )

  <span class="hljs-keyword">return</span> service
}</pre></div></div>
            
        </li>
        
        
        <li id="section-59">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-59">&#182;</a>
              </div>
              <p>Generic method to fetch model/collection.
Stores the XHR call which allows the abort on route change.
Trigger local loading event</p>
<pre><code>@params  {object}  object to fetch
@params  {object}  data and callbacks options
@params  {object}  call context
@<span class="hljs-keyword">return</span>  {object}
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>SubblyCore.prototype.fetch = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( obj, options, context )</span>
</span>{
  <span class="hljs-keyword">var</span> options   = options || {}
    , xhrId     = _.uniqueId( <span class="hljs-string">'xhr_'</span> )

  <span class="hljs-keyword">if</span>( context )
    context.trigger( <span class="hljs-string">'fetch::calling'</span> )
  
  <span class="hljs-keyword">this</span>._fetchXhr[ xhrId ] = obj.fetch({
      data:    options.data || {} 
    , xhrId:   xhrId
    , success: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( bbObj, response, opts )</span>
      </span>{
        <span class="hljs-keyword">if</span>( context )
          context.trigger( <span class="hljs-string">'fetch::responds'</span> )

        <span class="hljs-keyword">if</span>( options.success &amp;&amp; _.isFunction( options.success ) )
          options.success( bbObj, response, opts )
      }
    , error: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( bbObj, response, opts )</span>
      </span>{
        <span class="hljs-keyword">if</span>( context )
          context.trigger( <span class="hljs-string">'fetch::responds'</span> )

        <span class="hljs-keyword">if</span>( options.error &amp;&amp; _.isFunction( options.error ) )
          options.error( bbObj, response, opts  )
      }
  })
}</pre></div></div>
            
        </li>
        
        
        <li id="section-60">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-60">&#182;</a>
              </div>
              <p>Generic method to save a model.
Format json aand
stores the XHR call to prevent cancel</p>
<pre><code>@params  {object}  model to save
@params  {object}  data to set
@params  {object}  callbacks options
@params  {object}  call context
@<span class="hljs-keyword">return</span>  {object}
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>SubblyCore.prototype.store = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( model, data, options, context )</span>
</span>{
  <span class="hljs-keyword">var</span> data    = data || <span class="hljs-literal">false</span>
    , options = options || {}
    , scope   = <span class="hljs-keyword">this</span>

  <span class="hljs-keyword">if</span>( !data )
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>( <span class="hljs-string">'No data pass to Subbly.store'</span> )

  <span class="hljs-keyword">var</span> _feedback = <span class="hljs-keyword">this</span>.feedback()
  
  _feedback.add().progress()

  <span class="hljs-keyword">var</span> settings = $.extend({
      success: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( model, response, opts )</span>
      </span>{
        model.clear()
        model.set( response.response[ model.singleResult ] )

        _feedback.progressEnd( <span class="hljs-string">'success'</span>, options.successMsg || response.headers.status.message )

        <span class="hljs-keyword">if</span>( options.onSuccess &amp;&amp; _.isFunction( options.onSuccess ) )
          options.onSuccess( model, response, opts )
      }
    , error: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( model, response, opts )</span>
      </span>{
        _feedback.progressEnd( <span class="hljs-string">'error'</span>, options.errorMsg || response.responseJSON.headers.status.message )

        <span class="hljs-keyword">if</span>( options.onError &amp;&amp; _.isFunction( options.onError ) )
          options.onError( model, response, opts  )
      }
  }, options )

  options.json = {}

  options.json[ model.singleResult ] = data 

  options.json = $.extend( {}, options.json, model.getAdditonalParams() )

  model.save( options.json, settings )
}</pre></div></div>
            
        </li>
        
        
        <li id="section-61">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-61">&#182;</a>
              </div>
              <p>Abort unfinish XHR call on route change</p>
<pre><code>@<span class="hljs-keyword">return</span>  {<span class="hljs-keyword">void</span>}
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>SubblyCore.prototype.cleanXhr = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
  _( <span class="hljs-keyword">this</span>._fetchXhr )
    .forEach( <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( xhr, key )</span>
    </span>{
      <span class="hljs-keyword">if</span>( xhr.readyState &gt; <span class="hljs-number">0</span> &amp;&amp; xhr.readyState &lt; <span class="hljs-number">4</span> )
        xhr.abort()

      <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>._fetchXhr[ key ]
    }, <span class="hljs-keyword">this</span>)
}</pre></div></div>
            
        </li>
        
        
        <li id="section-62">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-62">&#182;</a>
              </div>
              <h2 id="settings">SETTINGS</h2>

            </div>
            
        </li>
        
        
        <li id="section-63">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-63">&#182;</a>
              </div>
              
            </div>
            
        </li>
        
        
        <li id="section-64">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-64">&#182;</a>
              </div>
              <p>Get current settings </p>
<pre><code>params  {string}  settings key (optional)
<span class="hljs-keyword">return</span>  {mixed}
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>SubblyCore.prototype.getSetting = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( key, defaults )</span>
</span>{
  <span class="hljs-keyword">if</span>( _.isUndefined( key ) )
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._settings.attributes

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._settings.get( key )</pre></div></div>
            
        </li>
        
        
        <li id="section-65">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-65">&#182;</a>
              </div>
              <p>return Helpers.getNested( this._settings, key, defaults || false )</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>}</pre></div></div>
            
        </li>
        
        
        <li id="section-66">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-66">&#182;</a>
              </div>
              <h2 id="cookies">COOKIES</h2>

            </div>
            
        </li>
        
        
        <li id="section-67">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-67">&#182;</a>
              </div>
              
            </div>
            
        </li>
        
        
        <li id="section-68">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-68">&#182;</a>
              </div>
              <p>get Cookie</p>
<pre><code><span class="hljs-keyword">return</span>  {mixed}
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>SubblyCore.prototype.getCookie = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( cookieName )</span>
</span>{
  <span class="hljs-built_in">console</span>.groupCollapsed( <span class="hljs-string">'get cookie: '</span> + cookieName )

  <span class="hljs-keyword">if</span>( !<span class="hljs-built_in">document</span>.cookie )
  {
    <span class="hljs-built_in">console</span>.warn(<span class="hljs-string">'no cookie for this domain'</span>)
    <span class="hljs-built_in">console</span>.groupEnd()
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
  }</pre></div></div>
            
        </li>
        
        
        <li id="section-69">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-69">&#182;</a>
              </div>
              <p>retrive data from cookies</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">var</span> data = <span class="hljs-built_in">decodeURIComponent</span>( <span class="hljs-built_in">document</span>.cookie.replace( <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"(?:(?:^|.*;)\\s*"</span> + <span class="hljs-built_in">encodeURIComponent</span>( cookieName ).replace(<span class="hljs-regexp">/[\-\.\+\*]/g</span>, <span class="hljs-string">"\\$&amp;"</span>) + <span class="hljs-string">"\\s*\\=\\s*([^;]*).*$)|^.*$"</span>), <span class="hljs-string">"$1"</span>)) || <span class="hljs-literal">null</span>
  
  <span class="hljs-built_in">console</span>.log( <span class="hljs-built_in">document</span>.cookie )
  <span class="hljs-built_in">console</span>.log( data )
  
  <span class="hljs-keyword">if</span>( data === <span class="hljs-string">'null'</span> )
  {
    <span class="hljs-built_in">console</span>.warn(<span class="hljs-string">'cookie "'</span> + cookieName + <span class="hljs-string">'" found but data are null'</span>)
    <span class="hljs-built_in">console</span>.groupEnd()

    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
  }

  <span class="hljs-built_in">console</span>.groupEnd()
  <span class="hljs-keyword">return</span> data
}</pre></div></div>
            
        </li>
        
        
        <li id="section-70">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-70">&#182;</a>
              </div>
              <p>set Cookie</p>
<pre><code><span class="hljs-keyword">return</span>  {<span class="hljs-keyword">void</span>}
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>SubblyCore.prototype.setCookie = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( cookieName, value, expire )</span>
</span>{
  <span class="hljs-built_in">document</span>.cookie = cookieName + <span class="hljs-string">'='</span> + value + <span class="hljs-string">'; path=/'</span>
}</pre></div></div>
            
        </li>
        
        
        <li id="section-71">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-71">&#182;</a>
              </div>
              <h2 id="plugins">PLUGINS</h2>

            </div>
            
        </li>
        
        
        <li id="section-72">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-72">&#182;</a>
              </div>
              
            </div>
            
        </li>
        
        
        <li id="section-73">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-73">&#182;</a>
              </div>
              <p>Extend Subbly Components</p>
<pre><code>params  {string}  component type
params  {string}  component name
params  {object}  component object
<span class="hljs-keyword">return</span>  {<span class="hljs-keyword">void</span>}
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>SubblyCore.prototype.extend = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( vendor, type, name, obj )</span>
</span>{
  <span class="hljs-keyword">if</span>( <span class="hljs-keyword">this</span>._viewAllowedType.indexOf( type ) == -<span class="hljs-number">1</span> )
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>( <span class="hljs-string">'Extend can not accept "'</span> + type + <span class="hljs-string">'" as extend'</span> )</pre></div></div>
            
        </li>
        
        
        <li id="section-74">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-74">&#182;</a>
              </div>
              <p>create a new Vendor</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">if</span>( !Components[ vendor ] )
    Components[ vendor ] = defautlsFwObj()

  <span class="hljs-keyword">var</span> alias

  <span class="hljs-keyword">switch</span>( type )
  {
    <span class="hljs-keyword">case</span> <span class="hljs-string">'Controller'</span>:
        alias = SubblyController
      <span class="hljs-keyword">break</span>
    <span class="hljs-keyword">case</span> <span class="hljs-string">'View'</span>:
        alias = SubblyView
      <span class="hljs-keyword">break</span>
    <span class="hljs-keyword">case</span> <span class="hljs-string">'ViewForm'</span>:
        type  = <span class="hljs-string">'View'</span> 
        alias = SubblyViewForm
      <span class="hljs-keyword">break</span>
    <span class="hljs-keyword">case</span> <span class="hljs-string">'ViewList'</span>:
        type  = <span class="hljs-string">'View'</span> 
        alias = SubblyViewList
      <span class="hljs-keyword">break</span>
    <span class="hljs-keyword">case</span> <span class="hljs-string">'ViewListRow'</span>:
        type  = <span class="hljs-string">'View'</span> 
        alias = SubblyViewListRow
      <span class="hljs-keyword">break</span>
    <span class="hljs-keyword">case</span> <span class="hljs-string">'Model'</span>:
        alias = SubblyModel
      <span class="hljs-keyword">break</span>
    <span class="hljs-keyword">case</span> <span class="hljs-string">'Collection'</span>:
        alias = SubblyCollection
      <span class="hljs-keyword">break</span>
    <span class="hljs-keyword">case</span> <span class="hljs-string">'CollectionList'</span>:
        alias = SubblyCollectionList
      <span class="hljs-keyword">break</span>
  }

  <span class="hljs-keyword">if</span>( Components[ vendor ][ type ][ name ] )
  {</pre></div></div>
            
        </li>
        
        
        <li id="section-75">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-75">&#182;</a>
              </div>
              <p>TODO: extend existing components + log </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>( vendor + <span class="hljs-string">'.'</span>  + type + <span class="hljs-string">'.'</span>  + name + <span class="hljs-string">' already exist'</span> )
  }

  Components[ vendor ][ type ][ name ] = alias.extend( obj )
}</pre></div></div>
            
        </li>
        
        
        <li id="section-76">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-76">&#182;</a>
              </div>
              <p>Register Plugin</p>
<pre><code>params  {object}  plugin object
<span class="hljs-keyword">return</span>  {<span class="hljs-keyword">void</span>}
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>SubblyCore.prototype.register = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( vendor, name, plugin )</span>
</span>{
  <span class="hljs-built_in">console</span>.groupCollapsed( <span class="hljs-string">'Register Plugin '</span> + vendor + <span class="hljs-string">'.'</span> + name )

  _.each( plugin, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">( component, typeName )</span>
  </span>{
    <span class="hljs-keyword">var</span> arr = typeName.split(<span class="hljs-string">':'</span>)

    <span class="hljs-keyword">this</span>.extend( vendor, arr[<span class="hljs-number">0</span>], arr[<span class="hljs-number">1</span>], component )
  }, <span class="hljs-keyword">this</span> )

  <span class="hljs-built_in">console</span>.groupEnd()
}</pre></div></div>
            
        </li>
        
        
        <li id="section-77">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-77">&#182;</a>
              </div>
              <p>Global Init</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-built_in">console</span>.groupCollapsed( <span class="hljs-string">'Subbly Global Init'</span> )</pre></div></div>
            
        </li>
        
        
        <li id="section-78">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-78">&#182;</a>
              </div>
              <p>console.group( ‘Subbly Global Init’ )</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-built_in">window</span>.Subbly = <span class="hljs-keyword">new</span> SubblyCore( subblyConfig )</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
